<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 0</title>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous">
        </script>
    <script type="application/javascript">
        function createFamilyTree() {
            let table = `
                    <table>
                        <thead>
                            <tr>
                                <th>Firstname</th>
                                <th>Lastname</th>
                            </tr>
                        </thead>                        
                    </table>`;

            $("body").append(table);
            $("table").append("<tbody></tbody>");
        }

        function addNewMember(firstname, lastname, position) {
            if (firstname !== "" && lastname !== "") {
                let closeElement = $("<td></td>").text("(x)");
                let newRow = $("<tr></tr>").append($("<td></td>").text(firstname), $("<td></td>").text(lastname), closeElement);

                closeElement.css("background-color", "orange");
                closeElement.click(function () {
                    newRow.remove();
                });

                if (position === "before")
                    $("tbody").prepend(newRow);
                else
                    $("tbody").append(newRow);
            }
        }

        function createForm() {
            let input1 = $("<input>").attr("type", "text");
            let input2 = $("<input>").attr("type", "text");
            let select = `
                    <select>
                        <option value="before">Before</option>
                        <option value="after">After</option>
                    </select>`;
            let submit = $("<input>").attr({ type: "submit", value: "Submit" });
            submit.click(function () {
                addNewMember($("input").val(), $("input:nth-of-type(2)").val(), $("select").val());
            });

            $("table").before(input1, input2, select, submit);
        }

        $(document).ready(function () {
            createFamilyTree();
            createForm();
        });
    </script>
</head>

<body>

</body>

</html>